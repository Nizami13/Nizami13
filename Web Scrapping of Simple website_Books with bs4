# -*- coding: utf-8 -*-
"""Web scrapping Simple website_Books.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1HMBg6oyIixbz9e38lJ02xkvsSHbIIkZT
"""

from bs4 import BeautifulSoup
import requests
import pandas as pd

website ='https://books.toscrape.com/'

response = requests.get(website)

response.status_code

soup =BeautifulSoup(response.content, 'html.parser')

#Results, geting firs lis, and inside class get col-xs-6, fromm first class
results = soup.find_all('li',{'class':'col-xs-6'})

soup

len(results)

#product title, it is under h3
#first entry
product=results[0]

product.find('h3').find('a').get_text()

product.find('h3').find('a').get('title')

#Product price it is inside price color
product.find('p',{'class':'price_color'}).get_text()

#checking availability.
product.find('p',{'class':'instock availability'}).get_text().strip()

#Create list and append our results (for Loop)
#Option 1-list comprehension
book_name = [result.find('h3').find('a').get('title') for result in results]

book_name

#Option 2
book_name_2 = []
for result in results:
  book_name_2.append(result.find('h3').find('a').get('title'))

book_name_2

#list comprehension
book_price = [result.find('p',{'class':'price_color'}).get_text() for result in results]

book_price

#Stock availability
stock_availability = [result.find('p',{'class':'instock availability'}).get_text().strip() for result in results]

stock_availability

#Pandas dataframe
book_info = pd.DataFrame({'Name':book_name,'Price':book_price,'Availability':stock_availability})

book_info

book_info.to_excel('books_results_done.xlsx',index=False)
